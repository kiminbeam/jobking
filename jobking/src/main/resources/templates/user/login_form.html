<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link rel="stylesheet" type="text/css" href="/css/style.css">
	<link rel="stylesheet" type="text/css" href="/css/loginFormStyle.css">
</head>

<body>
	<div id="wrap">
		<header>
            <div th:replace="~{/fragments/nav.html :: fragment-nav}"></div>
        </header>
		<div class="container">
			<div id="tab_wrap">
				<ul class="tabs">
					<li id="userTab" class="tab-link current" data-tab="user_login">ê°œì¸íšŒì›</li>
					<li id="companyTab" class="tab-link" data-tab="company_login">ê¸°ì—…íšŒì›</li>
				</ul>
				<div id="user_login" class="tab-content current">
					<form action="/user/user_login" method="post">
						<input type="text" name="uid" placeholder="ì•„ì´ë””"> <br>
						<input class="pw" type="password" name="upw" placeholder="ë¹„ë°€ë²ˆí˜¸"> <span
							class="pwShowBtn">ğŸ‘</span><br>
						<input type="submit" value="ë¡œê·¸ì¸">
						<input class="regBtn" type="button" value="íšŒì›ê°€ì…">
					</form>
				</div>
				<div id="company_login" class="tab-content">
					<form action="/user/company_login" method="post">
						<input type="text" name="cid" placeholder="ì•„ì´ë””"><br>
						<input class="pw" type="password" name="cpw" placeholder="ë¹„ë°€ë²ˆí˜¸"> <span
							class="pwShowBtn">ğŸ‘</span><br>
						<input type="submit" value="ë¡œê·¸ì¸">
						<input class="regBtn" type="button" value="íšŒì›ê°€ì…">
					</form>
				</div>
			</div>
		</div>
		<footer>
			<div th:replace="~{/fragments/footer.html :: fragment-footer}"></div>
		</footer>
	</div>



	<script th:inline="javascript">

		const tabs = document.querySelectorAll(".tab-link");
		const contents = document.querySelectorAll(".tab-content")
		const regBtns = document.querySelectorAll(".regBtn")
		const pwShowBtns = document.querySelectorAll(".pwShowBtn");


		tabs.forEach(tab => {
			tab.addEventListener("click", function (e) {
				const id = e.target.getAttribute("data-tab")
				tabs.forEach(t => { t.classList.remove("current") })
				contents.forEach(content => { content.classList.remove("current") })
				tab.classList.add("current");
				document.querySelector("#" + id).classList.add("current")

			})
		})
		regBtns.forEach(btn => {
			btn.addEventListener("click", function () {
				///íšŒì›ê°€ì…í¼ìœ¼ë¡œ ê°€ê¸°
				location.href = "/user/user_regForm";
			})
		})
		pwShowBtns.forEach(btn => {
			btn.addEventListener("click", function (e) {
				const pwElement = e.target.previousElementSibling;
				pwElement.classList.toggle("active");
				if (pwElement.classList.contains("active")) {
					pwElement.setAttribute("type", "text")
				} else {
					pwElement.setAttribute("type", "password")
				}
			})
		})
		if ([[${ result }]] != null) {
			if ([[${ result }]] == false) {
				alert("ì…ë ¥í•˜ì‹  ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ì™€ ì¼ì¹˜í•˜ëŠ” íšŒì›ì´ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”");
			}
		}
	</script>
</body>

</html>